const tileTypes = [
  "D2B590", // path brown
  "A6C797", // light green
  "005D22", // dark green
  "3E0300"  // dark brown
]

class HexChunk {
  constructor (x, y) {
    this.pathPoints = new Array(3);
    this.cellsArr = new Array(61);
    this.xOffset = x;
    this.yOffset = y;
  }
}

const cellNeighbours = {
  0:  [ 1,  2,  3,  4,  5,  6],
  1:  [ 7,  8,  2,  0,  6, 18],
  2:  [ 8,  9, 10,  3,  0,  1],
  3:  [ 2, 10, 11, 12,  4,  0],
  4:  [ 0,  3, 12, 13, 14,  5],
  5:  [ 6,  0,  4, 14, 15, 16],
  6:  [18,  1,  0,  5, 16, 17],
  7:  [19, 20,  8,  1, 18, 36],
  8:  [20, 21,  9,  2,  1,  7],
  9:  [21, 22, 23, 10,  2,  8],
  10: [ 9, 23, 24, 11,  3,  2],
  11: [10, 24, 25, 26, 12,  3],
  12: [ 3, 11, 26, 27, 13,  4],
  13: [ 4, 12, 27, 28, 29, 14],
  14: [ 5,  4, 13, 29, 30, 15],
  15: [16,  5, 14, 30, 31, 32],
  16: [17,  6,  5, 15, 32, 33],
  17: [35, 18,  6, 16, 33, 34],
  18: [36,  7,  1,  6, 17, 35],
  19: [37, 38, 20,  7, 36, 60],
  20: [38, 39, 21,  8,  7, 19],
  21: [39, 40, 22,  9,  8, 20],
  22: [40, 41, 42, 23,  9, 21],
  23: [22, 42, 43, 24, 10,  9],
  24: [23, 43, 44, 25, 11, 10],
  25: [24, 44, 45, 46, 26, 11],
  26: [11, 25, 46, 47, 27, 12],
  27: [12, 26, 47, 48, 28, 13],
  28: [13, 27, 48, 49, 50, 29],
  29: [14, 13, 28, 50, 51, 30],
  30: [15, 14, 29, 51, 52, 31],
  31: [32, 15, 30, 52, 53, 54],
  32: [33, 16, 15, 31, 54, 55],
  33: [34, 17, 16, 32, 55, 56],
  34: [58, 35, 17, 33, 56, 57],
  35: [59, 36, 18, 17, 34, 58],
  36: [60, 19,  7, 18, 35, 59],
  37: [  ,   , 38, 19, 60,   ],
  38: [  ,   , 39, 20, 19, 37],
  39: [  ,   , 40, 21, 20, 38],
  40: [  ,   , 41, 22, 21, 39],
  41: [  ,   ,   , 42, 22, 40],
  42: [41,   ,   , 43, 23, 22],
  43: [42,   ,   , 44, 24, 23],
  44: [43,   ,   , 45, 25, 24],
  45: [44,   ,   ,   , 46, 25],
  46: [25, 45,   ,   , 47, 26],
  47: [26, 46,   ,   , 48, 27],
  48: [27, 47,   ,   , 49, 28],
  49: [28, 48,   ,   ,   , 50],
  50: [29, 28, 49,   ,   , 51],
  51: [30, 29, 50,   ,   , 52],
  52: [31, 30, 51,   ,   , 53],
  53: [54, 31, 52,   ,   ,   ],
  54: [55, 32, 31, 53,   ,   ],
  55: [56, 33, 32, 54,   ,   ],
  56: [57, 34, 33, 55,   ,   ],
  57: [  , 58, 34, 56,   ,   ],
  58: [  , 59, 35, 34, 57,   ],
  59: [  , 60, 36, 45, 58,   ],
  60: [  , 37, 19, 36, 59,   ]
}

const cellRelPos = [
  [ 0,  0.0], //  0
  [ 0,  1.0], //  1
  [ 1,  0.5], //  2
  [ 1, -0.5], //  3
  [ 0, -1.0], //  4
  [-1, -0.5], //  5
  [-1,  0.5], //  6
  [ 0,  2.0], //  7
  [ 1,  1.5], //  8
  [ 2,  1.0], //  9
  [ 2,  0.0], // 10
  [ 2, -1.0], // 11
  [ 1, -1.5], // 12
  [ 0, -2.0], // 13
  [-1, -1.5], // 14
  [-2, -1.0], // 15
  [-2,  0.0], // 16
  [-2,  1.0], // 17
  [-1,  1.5], // 18
  [ 0,  3.0], // 19
  [ 1,  2.5], // 20
  [ 2,  2.0], // 21
  [ 3,  1.5], // 22
  [ 3,  0.5], // 23
  [ 3, -0.5], // 24
  [ 3, -1.5], // 25
  [ 2, -2.0], // 26
  [ 1, -2.5], // 27
  [ 0, -3.0], // 28
  [-1, -2.5], // 29
  [-2, -2.0], // 30
  [-3, -1.5], // 31
  [-3, -0.5], // 32
  [-3,  0.5], // 33
  [-3,  1.5], // 34
  [-2,  2.0], // 35
  [-1,  2.5], // 36
  [ 0,  4.0], // 37
  [ 1,  3.5], // 38
  [ 2,  3.0], // 39
  [ 3,  2.5], // 40
  [ 4,  2.0], // 41
  [ 4,  1.0], // 42
  [ 4,  0.0], // 43
  [ 4, -1.0], // 44
  [ 4, -2.0], // 45
  [ 3, -2.5], // 46
  [ 2, -3.0], // 47
  [ 1, -3.5], // 48
  [ 0, -4.0], // 49
  [-1, -3.5], // 50
  [-2, -3.0], // 51
  [-3, -2.5], // 52
  [-4, -2.0], // 53
  [-4, -1.0], // 54
  [-4,  0.0], // 55
  [-4,  1.0], // 56
  [-4,  2.0], // 57
  [-3,  2.5], // 58
  [-2,  3.0], // 59
  [-1,  3.5]  // 60
]

const chunkRelNeighbours = [
  [ 0.5, 0.5],
  [ 1  , 0  ],
  [ 0.5,-0.5],
  [-0.5,-0.5],
  [-1  , 0  ],
  [-0.5, 0.5]
]

const hexRelNeighbours = [
  [ 0  , 1  ],
  [ 1  , 0.5],
  [ 1  ,-0.5],
  [ 0  ,-1  ],
  [-1  ,-0.5],
  [-1  , 0.5]
]

const neighbouringChunkHexes = {
  0: {
    37: 53,
    38: 52,
    39: 51,
    40: 50,
    41: 49
  },
  1: {
    41: 57,
    42: 56,
    43: 55,
    44: 54,
    45: 53
  },
  2: {
    45: 37,
    46: 60,
    47: 59,
    48: 58,
    49: 57
  },
  3: {
    49: 41,
    50: 40,
    51: 39,
    52: 38,
    53: 37
  },
  4: {
    53: 45,
    54: 44,
    55: 43,
    56: 42,
    57: 41
  },
  5: {
    57: 49,
    58: 48,
    59: 47,
    60: 46,
    37: 45
  }
}